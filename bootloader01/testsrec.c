
//------------------------------------------------------------------------
//------------------------------------------------------------------------

void PUT32 ( unsigned int, unsigned int );
unsigned int GET32 ( unsigned int );

#define USART1BASE  0x40013800
//------------------------------------------------------------------------
static void uart_send ( unsigned int x )
{
    while(1) if(GET32(USART1BASE+0x1C)&(1<<7)) break;
    PUT32(USART1BASE+0x28,x);
}
//-------------------------------------------------------------------------
int notmain ( void )
{
    unsigned int ra;

    for(ra=0;ra<80;ra++)
    {
        uart_send(0x30|(ra&7));
        if((ra&7)==7)
        {
            uart_send(0x0D);
            uart_send(0x0A);
        }
    }

    return(0);
}
//------------------------------------------------------------------------
//------------------------------------------------------------------------
